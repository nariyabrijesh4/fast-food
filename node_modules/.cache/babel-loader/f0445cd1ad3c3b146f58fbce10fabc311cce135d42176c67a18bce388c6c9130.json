{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import TextField from'@mui/material/TextField';import Box from'@mui/material/Box';import Customize from'./Customize';import{Modal}from'antd';import axios from'axios';import Pizza from'./PIZZA/Pizza';import{userContext}from'../../context/Usercontext';import Desserts from'./DESSERTS/Desserts';import Salad from'./Salad/Salad';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProductDetails(_ref){let{pdetail,setProductDetails,categoryDescription}=_ref;console.log(\"categoryDescription :\",categoryDescription);console.log(\"pdetail :\",pdetail);const{billData,setBillData,selectedItem,setSelectedItem,selectedItems,setSelectedItems}=useContext(userContext);const[customize,setCustomize]=useState(false);const[crust,setCrust]=useState([]);const[size,setSize]=useState([]);const[selectsize,setSelectSize]=useState();const[selectcrust,setSelectCrust]=useState();const[qty,setQty]=useState(1);const[note,setNote]=useState(\"\");const[salad,setSalad]=useState([]);const[saladToast,setSaladToast]=useState([]);// ADD TO CART \nconst handeAddtoCart=()=>{const params={// size: selectsize,\n// crust: selectcrust,\nnote:note,qty:qty,selectedItem:selectedItems,produtDetail:pdetail,productTotal:(()=>{if(categoryDescription===\"DESSERTS\"){return pdetail.price*qty;}else if(categoryDescription===\"SALADS\"){return selectedItems.length>0?selectedItems.reduce((total,item)=>total+item.price*qty,0):0;}})()};setProductDetails(false);setNote(\"\");setQty(1);setSelectedItems([]);setBillData([...billData,params]);};const handleCustomize=()=>{setCustomize(true);};// GET SIZE \nvar getSize=()=>{axios.get(\"\".concat(process.env.REACT_APP_URL,\"/api/PizzaSize/ByProductId?productId=\").concat(pdetail.productId)).then(res=>{console.log(res);setSize(res.data);}).catch(err=>{console.log(err);});};// SALADS \nconst saladsItem=()=>{axios.get(\"\".concat(process.env.REACT_APP_URL,\"/api/Variation/ByProductId?productId=\").concat(pdetail.productId,\"&parentId=0\")).then(res=>{console.log(\"res\",res);setSalad(res.data.filter((_,index)=>index%2!==0));setSaladToast(res.data.filter((_,index)=>index%2===0));}).catch(err=>{console.log(err);});};useEffect(()=>{if(categoryDescription===\"PIZZA\"){getSize();}else if(categoryDescription===\"SALADS\"){saladsItem();}},[]);// GET CRUST\nuseEffect(()=>{axios.get(\"\".concat(process.env.REACT_APP_URL,\"/api/Modifier/Crusts?sizeId=1&crustId=0&productId=\").concat(pdetail.productId)).then(res=>{setCrust(res.data);}).catch(err=>{console.log(err);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-details-outer\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"pname\",children:pdetail.productName}),/*#__PURE__*/_jsx(\"h6\",{className:\"ptype\",children:pdetail.productDescription}),categoryDescription===\"PIZZA\"?/*#__PURE__*/_jsx(Pizza,{size,crust,handeAddtoCart,selectsize,setSelectSize,setSelectCrust,note,setNote,qty,setQty,handleCustomize,setProductDetails}):\"\",categoryDescription===\"SALADS\"?/*#__PURE__*/_jsx(Salad,{salad,handeAddtoCart,setProductDetails,saladToast,qty,note,setQty,setNote}):\"\",categoryDescription===\"DESSERTS\"?/*#__PURE__*/_jsx(Desserts,{note,setProductDetails,handeAddtoCart,setNote,qty,setQty}):\"\"]}),categoryDescription===\"PIZZA\"?/*#__PURE__*/_jsx(Modal,{open:customize,onCancel:()=>setCustomize(false),width:500,children:/*#__PURE__*/_jsx(Customize,{pdetail,selectsize,selectedItem,setSelectedItem,setCustomize})}):\"\"]});}export default ProductDetails;","map":{"version":3,"names":["React","useContext","useEffect","useState","TextField","Box","Customize","Modal","axios","Pizza","userContext","Desserts","Salad","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetails","_ref","pdetail","setProductDetails","categoryDescription","console","log","billData","setBillData","selectedItem","setSelectedItem","selectedItems","setSelectedItems","customize","setCustomize","crust","setCrust","size","setSize","selectsize","setSelectSize","selectcrust","setSelectCrust","qty","setQty","note","setNote","salad","setSalad","saladToast","setSaladToast","handeAddtoCart","params","produtDetail","productTotal","price","length","reduce","total","item","handleCustomize","getSize","get","concat","process","env","REACT_APP_URL","productId","then","res","data","catch","err","saladsItem","filter","_","index","children","className","productName","productDescription","open","onCancel","width"],"sources":["D:/fast-food-main/fast-food-main/src/components/Item Details/ProductDetails.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport TextField from '@mui/material/TextField';\r\nimport Box from '@mui/material/Box';\r\nimport Customize from './Customize';\r\nimport { Modal } from 'antd';\r\nimport axios from 'axios';\r\nimport Pizza from './PIZZA/Pizza'\r\nimport { userContext } from '../../context/Usercontext';\r\nimport Desserts from './DESSERTS/Desserts';\r\nimport Salad from './Salad/Salad';\r\n\r\nfunction ProductDetails({ pdetail, setProductDetails, categoryDescription }) {\r\n    console.log(\"categoryDescription :\", categoryDescription);\r\n    console.log(\"pdetail :\", pdetail);\r\n    const { billData, setBillData, selectedItem, setSelectedItem, selectedItems, setSelectedItems } = useContext(userContext)\r\n    const [customize, setCustomize] = useState(false)\r\n    const [crust, setCrust] = useState([]);\r\n    const [size, setSize] = useState([]);\r\n    const [selectsize, setSelectSize] = useState();\r\n    const [selectcrust, setSelectCrust] = useState();\r\n    const [qty, setQty] = useState(1)\r\n    const [note, setNote] = useState(\"\")\r\n    const [salad, setSalad] = useState([])\r\n    const [saladToast, setSaladToast] = useState([])\r\n\r\n    // ADD TO CART \r\n    const handeAddtoCart = () => {\r\n        const params = {\r\n            // size: selectsize,\r\n            // crust: selectcrust,\r\n            note: note,\r\n            qty: qty,\r\n            selectedItem: selectedItems,\r\n            produtDetail: pdetail,\r\n            productTotal: (() => {\r\n                if (categoryDescription === \"DESSERTS\") {\r\n                    return pdetail.price * qty;\r\n                }\r\n                else if (categoryDescription === \"SALADS\") {\r\n                    return selectedItems.length > 0 ? selectedItems.reduce((total, item) => total + (item.price * qty), 0) : 0;\r\n\r\n                }\r\n            })()\r\n        }\r\n        setProductDetails(false)\r\n        setNote(\"\")\r\n        setQty(1)\r\n        setSelectedItems([])\r\n        setBillData([...billData, params])\r\n\r\n    }\r\n\r\n\r\n\r\n    const handleCustomize = () => {\r\n        setCustomize(true)\r\n    }\r\n\r\n\r\n    // GET SIZE \r\n    var getSize = () => {\r\n        axios.get(`${process.env.REACT_APP_URL}/api/PizzaSize/ByProductId?productId=${pdetail.productId}`).then((res) => {\r\n            console.log(res);\r\n            setSize(res.data)\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n\r\n    // SALADS \r\n    const saladsItem = () => {\r\n        axios.get(`${process.env.REACT_APP_URL}/api/Variation/ByProductId?productId=${pdetail.productId}&parentId=0`).then((res) => {\r\n            console.log(\"res\", res);\r\n            setSalad(res.data.filter((_, index) => index % 2 !== 0));\r\n            setSaladToast(res.data.filter((_, index) => index % 2 === 0))\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (categoryDescription === \"PIZZA\") {\r\n            getSize();\r\n        }\r\n        else if (categoryDescription === \"SALADS\") {\r\n            saladsItem();\r\n        }\r\n    }, [])\r\n\r\n\r\n    // GET CRUST\r\n    useEffect(() => {\r\n        axios.get(`${process.env.REACT_APP_URL}/api/Modifier/Crusts?sizeId=1&crustId=0&productId=${pdetail.productId}`).then((res) => {\r\n            setCrust(res.data)\r\n        })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div className='product-details-outer'>\r\n                <h3 className='pname'>{pdetail.productName}</h3>\r\n                <h6 className='ptype'>{pdetail.productDescription}</h6>\r\n\r\n                {/* PIZZA */}\r\n                {categoryDescription === \"PIZZA\" ? <Pizza {...{ size, crust, handeAddtoCart, selectsize, setSelectSize, setSelectCrust, note, setNote, qty, setQty, handleCustomize, setProductDetails }} /> : \"\"}\r\n\r\n                {/* SALADS */}\r\n                {categoryDescription === \"SALADS\" ? <Salad {...{ salad, handeAddtoCart, setProductDetails, saladToast, qty, note, setQty, setNote }} /> : \"\"}\r\n\r\n\r\n                {/* DESSERTS */}\r\n                {categoryDescription === \"DESSERTS\" ? <Desserts {...{ note, setProductDetails, handeAddtoCart, setNote, qty, setQty }} /> : \"\"}\r\n\r\n            </div>\r\n\r\n\r\n\r\n            {/* PIZZA */}\r\n            {categoryDescription === \"PIZZA\" ?\r\n                <Modal open={customize} onCancel={() => setCustomize(false)} width={500}>\r\n                    <Customize {...{ pdetail, selectsize, selectedItem, setSelectedItem, setCustomize }} />\r\n                </Modal>\r\n                : \"\"}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}